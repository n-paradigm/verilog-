module password_buffer(
    input clk,
    input rst_n,
    input key_pressed,
    input [3:0] key_value, // 假设键值为4位
    output reg [3:0] pass_buf [0:3] // 存储四位密码
);
    reg [1:0] cnt; // 计数器，控制输入的次数

    always @(posedge clk or negedge rst_n) begin
        if (!rst_n) begin
            cnt <= 0;
            pass_buf[0] <= 0;
            pass_buf[1] <= 0;
            pass_buf[2] <= 0;
            pass_buf[3] <= 0;
        end else if (key_pressed && cnt < 4) begin
            pass_buf[cnt] <= key_value; // 存储每次输入的密码
            cnt <= cnt + 1;
        end
    end
endmodule